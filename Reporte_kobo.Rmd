---
title: "Reporte Sobre los indicadores para el PIR"
author: "Conabio"
date: "6/03/2020"
output: word_document
---

```{r setup, include=FALSE}

library(tidyverse)
library(readxl)
#library(rio)
library(R.utils)
#library(ggrepel)
library(openxlsx)
library(lubridate)
library(mxmaps)
library(kableExtra)
#library(googlesheets4)
#library(plyr)
#library(janitor)

 Hoja_1 <-  c("a9MUq5cfdedxVWoSRiX3ct")
 Hoja_2 <-  c("proyectos_cofinan")
 Hoja_3 <-  c("participantes_persona")
 
 
tabla1 <- read_xlsx("database/KoboConabio/Componente2_4.xlsx", sheet = Hoja_1)
tabla2 <- read_xlsx("database/KoboConabio/Componente2_4.xlsx", sheet = Hoja_2)
tabla3 <- read_xlsx("database/KoboConabio/Componente2_4.xlsx", sheet = Hoja_3)
comunidades <- read_xlsx("database/comunidades_proyecto.xlsx", sheet = "GEF_LOC_ACT_May2020")

Mat_Comun <- read_xlsx("database/KoboConabio/Mat_comunicacion.xlsx", sheet = "asTB8je8XkZ3MsbEzmS5jS")


INEGI <-
    read_xlsx("Database/KoboConabio/catun_localidad/catun_localidad.xlsx",
              sheet = "Consulta") %>%
    filter(
        nom_ent %in% c(
            "Oaxaca",
            "Chiapas",
            "Michoacán de Ocampo",
            "Chihuahua",
            "Yucatán",
            "Ciudad de México"
        )
    ) 

INEGI1 <- INEGI %>% 
    dplyr::rename(region = mapa) %>% 
    select(region:ámbito, lat_decimal, lon_decimal)

rm(INEGI)
    
hoy1 <- as.character(today())

data("df_mxmunicipio")
df_mxmunicipio1 <- df_mxmunicipio %>% 
    select(state_code, municipio_code, region, state_name, municipio_name, long, lat)


tabla1a <- tabla1 %>% 
    select(`ubicacion/nom_ent`:`proyectos/has`) %>% 
    #select(-`ubicacion/nom_mun_otro`) %>%
    #select(-`ubicacion/nom_loc_otra` )
    rename(state_code = `ubicacion/nom_ent`) %>% 
    rename(region = state_code) %>% 
    rename(proyectos = `proyectos/nom_proy`) %>% 
    rename(localidad_code = `ubicacion/nom_loc`) %>% 
    rename(area1 = `proyectos/has`) 

    
    
tabla1b <- tabla1a %>% 
    left_join(df_mxstate, by = c("region")) %>% 
    mutate(valor = 1) %>% 
    group_by(state_name) %>% 
    summarise(value = sum(valor)) %>% 
    na.omit(value) 

```


_______  

# Indicadores de los datos de Kobo  
##  Introducción

El proyecto se llega acabo en distintos estados de la república. Hasta el día de **`r hoy1`** se tiene un total de **`r nrow(tabla1)`** proyectos en los siguientes estados: **`r levels(as.factor(tabla1b$state_name))`**, que están distribuidos de la siguiente forma en cada estado:

```{r , echo=FALSE}
knitr::kable(tabla1b, format = "markdown", booktabs = TRUE) 

# Esto es para hacerlo en pdf y con el paquete kableExtra se puede editar las tablas
#knitr::kable(tabla1b, format = "latex", booktabs = TRUE) %>% 
#    kable_styling(position = "center")

```

```{r, echo=FALSE}
tablaLL <- tabla1 %>% 
    mutate(nombre_tproy = `proyectos/tip_proy`) %>% 
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "01" = 'Intercambio de conocimientos')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "02" = 'Mejoramiento de semillas o milpas')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "03" = 'Conservación de semillas')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "04" = 'Sistemas participativos de garantía')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "05" = 'Sistemas de acopio, transporte y distribución')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "06" = 'Fortalecimiento de capacidades de negocios')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "07" = 'Estrategias de mercado')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "08" = 'Campañas de educación, mercadeo y comunicación')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "09" = 'Establecimiento de locales y puntos de venta de cadenas cortas')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "10" = 'Firma de contratos con tiendas de autoservicios')) %>%
    mutate(nombre_tproy = recode(nombre_tproy, 
                                 "11" = 'Sitios web y redes sociales')) %>% 
    mutate(nombre_subproy = `proyectos/st_proy`) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0101" = 'Feria de Agrobiodiversidad')) %>% 
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0102" = 'Feria gastronómica')) %>% 
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0103" = 'Reunión gastronómica')) %>% 
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0104" = 'Talleres para la formación de capacidades')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0105" = 'Visita a parcelas con agricultores')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0106" = 'Visita a parcelas demostrativas')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0107" = 'Ensayos comparativos en lab. y campo')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0108" = 'Espectáculos intirenantes')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0109" = 'Concurso de arte relacionado con la agrobiodiversidad')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0110" = 'Formación de gpos. en redes sociales')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0111" = 'Establecimiento de centros de información locales')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0201" = 'Diversificación de la milpa')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0202" = 'Conservación de suelos')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0203" = 'Control de plagas y enfermedades')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0204" = 'Sistemas Agroforestales')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0301" = 'Bancos de Semillas')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0302" = 'Redes de intercambio')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0303" = 'Red de custodios')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0401" = 'No aplica')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0501" = 'Acopio')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0502" = 'Transporte')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0503" = 'Distribución')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0601" = 'Administración y contabilidad')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0602" = 'Mercadeo')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0603" = 'Gestión de apoyos públicos')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0701" = 'Locales')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0702" = 'Regionales')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0703" = 'De nicho')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0704" = 'Urbanos')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0705" = 'Exportación')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0801" = 'Educación local')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0802" = 'Educación regional')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0803" = 'Mercadeo local')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0804" = 'Mercadeo regional')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0805" = 'Mercadeo de nicho')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0806" = 'Mercadeo urbano')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0807" = 'Mercadeo de exportación')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0808" = 'Comunicación local')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0809" = 'Comunicación regional')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0901" = 'Locales')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "0902" = 'Puntos de venta')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "1001" = 'Tiendas de autoservicio privadas')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "1002" = 'Tiendas de autoservicio públicas')) %>%
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "1101" = 'Desarrollo y Gestion de sitios web')) %>% 
    mutate(nombre_subproy = recode(nombre_subproy, 
                                 "1102" = 'Gestión de redes sociales')) %>% 
    select(`ubicacion/nom_ent`:`proyectos/has`, `nombre_tproy`, `nombre_subproy`,
           `proyectos/num_matcom`, "_index") %>% 
    mutate(valor = 1) %>% 
    rename(region = `ubicacion/nom_loc`) %>% 
    rename("parent_index" = "_index")


#    filter(`proyectos/tip_proy` == "03")

   #01	Intercambio de conocimientos
   #02	Mejoramiento de semillas o milpas
   #03	Conservación de semillas
   #04	Sistemas participativos de garantía
   #05	Sistemas de acopio, transporte y distribución
   #06	Fortalecimiento de capacidades de negocios
   #07	Estrategias de mercado
   #08	Campañas de educación, mercadeo y comunicación
   #09	Establecimiento de locales y puntos de venta de cadenas cortas
   #10	Firma de contratos con tiendas de autoservicios
   #11	Sitios web y redes sociales


#    filter(`proyectos/st_proy` == "03")


   

```

```{r, echo=FALSE}
#Función para hacer la tabla de linea base
funcion1 <- function(LB, MI, MF, sumaValor){
niveles <- c("línea base", "Meta Intermedia", "Meta Final")
valores <- c(LB, MI, MF)
tablaH <- data.frame(niveles,valores) %>% 
    mutate(avances = round(100 * (sumaValor / valores), 1) ) %>% 
    column_to_rownames(., var = "niveles")
tablaH <- as.data.frame(t(tablaH))
}

```


_______  

## Dentro del PIR responde al **OUTCOME 1.1**  
### Número de hectáreas de especies globalmente importantes (variedades tradicionales)  
#### Num TDC. A.1.0.0.0.0.2  


**Fuente de información:**  
Encuestas a las Unidades de Producción Familar  

**Medio:**  
-Kobo  

**Descripción TDC:**  
-Superficie cubierta directamente por el proyecto

```{r , echo=FALSE}
SUMA <- NA
knitr::kable(funcion1(0,350000,700000, SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTCOME 1.1**  
### Número de bases de datos existentes convertidas/transformadas de acuerdo con el SIAgroBD  
#### Num TDC. D.1.1.1.3.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google1 <- read_csv("database/google_drive/tabla_google1.csv", 
                          col_names = TRUE) %>% 
    mutate(value = 1) %>% 
    group_by(ESTATUS) %>% 
    summarise(sum(value)) %>% 
    rename(valor = "sum(value)")

```

**Fuente de Información:**  
-Registro en SIAGRO_Bases  

**Medio:**  
- Hojas de cálculo  

**Descripción TDC:**  
- Fase de transformación de las bases de datos  

Hasta el momento se tiene el siguiente avance con `r sum(tabla_google1$valor)` bases de datos con los siguientes status de avance:  

```{r , echo=FALSE}

knitr::kable(tabla_google1, format = "markdown", booktabs = TRUE)  
```

Los avances (%) se pueden ver en la siguiente tabla:  


```{r , echo=FALSE}
SUMA <- as.numeric(tabla_google1[1,2])
knitr::kable(funcion1(0,12,12, SUMA), format = "markdown", booktabs = TRUE)  
```

_______  

## Dentro del PIR responde al **OUTCOME 1.1**  
### Número de análisis y síntesis para guiar la toma de decisiones (basados en el SIAgroBD y en los resultados de los proyectos de investigación)  
#### Num TDC. D.1.1.1.1.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google2 <- read_csv2("database/google_drive/tabla_google2.csv", 
                          col_names = TRUE) %>% 
    mutate(val = 1) 

```

**Fuente de Información:**  
-C1_Publicaciones  

**Medio:**  
- Hojas de cálculo  

**Descripción TDC:**  
- Número de reportes de análisis y síntesis para la toma de decisiones  

Al día de hoy **(`r hoy1` )** el número de especies globalmentes significativas que se mantienen en las localidades de intervención directa del proyecto son: **`r sum(tabla_google2$val) `**

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla_google2$val)
knitr::kable(funcion1(0,1,3, SUMA), format = "markdown", booktabs = TRUE)  
```

_______  

## Dentro del PIR responde al **OUTCOME 1.1**  
### Nivel de conciencia de los valores económicos y culturales de la agrobiodiversidad entre las partes interesadas clave (Ìndice de concientización del valor de la agrobiodiversidad)  
#### Num TDC. E.0.1.1.0.0.1  


**Fuente de Información:**  
-Encuesta  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Índice de conciencia del valor de la agrobiodiversidad de los productores  

**NOTA: Hasta el momento sin linea base, ni metas**  

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 1.1.1**  
### Número de Proyectos de investigación participativa  
## Num TDC. D.1.1.1.5.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google3 <- read_csv2("database/google_drive/tabla_google3.csv", 
                          col_names = TRUE) %>% 
    mutate(val = 1) 

```


**Fuente de Información:**  
- C1_Investigación_Participativa  

**Medio:**  
- Hojas de cálculo  

**Descripción TDC:**  
- Proyectos de investigación (colecta)  

El número de proyectos de investigación participativa es de: **`r sum(tabla_google3$val) `**

En la siguiente tabla se muestra la lista de proyectos:  

```{r , echo=FALSE}

tabla_google3.1 <- tabla_google3 %>% 
    select(CVE_PROY, NOM_PROY)
knitr::kable(tabla_google3.1, format = "markdown", booktabs = TRUE)  

```

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla_google3$val)
knitr::kable(funcion1(0,10,10, SUMA), format = "markdown", booktabs = TRUE)  

```
_______  

## Dentro del PIR responde al **OUTPUT 1.1.1**  
### Número de áreas de implementación con proyectos en marcha  
## Num TDC. D.1.1.1.5.0.2  

```{r, echo=FALSE}

comunidades1 <- comunidades %>% 
    select(ESTADO, GE_elaborados) %>% 
    filter(GE_elaborados == 1) %>% 
    mutate(value = 1) %>% 
    group_by(ESTADO) %>% 
    summarise(val = sum(value)) %>% 
    mutate(val = 1)
```


**Fuente de Información:**  
- Grupos de Enfoque  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de áreas de intervención en donde se realizaron grupos de enfoque  

Al día de hoy **(`r hoy1` )** el número de especies globalmentes significativas que se mantienen en las localidades de intervención directa del proyecto son: **`r sum(comunidades1$val) `**

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(comunidades1$val)
knitr::kable(funcion1(2,4,6, SUMA), format = "markdown", booktabs = TRUE)  

```
________  

## Dentro del PIR responde al **OUTPUT 1.1.1**  
### Número de publicaciones  
## Num TDC. D.1.1.1.5.0.3  

```{r, echo=FALSE,  message=FALSE}
tabla_google2 <- read_csv2("database/google_drive/tabla_google2.csv", 
                          col_names = TRUE) %>% 
    select(TIPOPUB, TITULO) %>% 
    mutate(val = 1) 

```

**Fuente de Información:**  
- C1_Publicaciones  

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- Número de publicaciones  


Al día de hoy **(`r hoy1` )**, se tiene un total de **`r sum(tabla_google2$val)`** publicacones, que se muestran a continuación:  

```{r , echo=FALSE}

knitr::kable(tabla_google2, format = "markdown", booktabs = TRUE)  

```


Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla_google2$val)
knitr::kable(funcion1(0,1,3, SUMA), format = "markdown", booktabs = TRUE)  

```

_______  

## Dentro del PIR responde al **OUTPUT 1.1.2**  
### Protocolo diseñado, aprobado y adoptado  
#### Num TDC. D.1.1.1.4.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google4 <- read_csv2("database/google_drive/tabla_google4.csv", 
                          col_names = TRUE) 

```

**Fuente de Información:**  
- SIAGRO_protocolo  

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- fase de desarrollo del protocolo  

El protocolo se puede encontrar en alguna de las siguientes fases:  
0 - Protocolo no existe  
1 - Protocolo en diseño  
2 - Protocolo diseñado  
3 - Protocolo aprobado  
4 - Protocolo adoptado  

Al día de hoy **(`r hoy1` )**, los avances se pueden ver en la siguiente tabla:  

```{r, echo=FALSE}
knitr::kable(tabla_google4, format = "markdown", booktabs = TRUE) 

```


Por lo que el protocolo ya esta en etapa de diseño/diseñado adoptado:  
```{r, echo=FALSE}
valor <- c("Línea base", "Meta intermedia", "Meta final")
fase <- c("Protocolo no existe", "Sistema diseño/diseñado", "Sistema implementado/adoptado")
avance <- c("-", "-", "X")
tablaD <- data.frame(valor, fase, avance) %>% 
    column_to_rownames(., var = "valor")
tablaD <- as.data.frame(t(tablaD))

knitr::kable(tablaD, format = "markdown", booktabs = TRUE) 

```

_______  

## Dentro del PIR responde al **OUTPUT 1.1.2**  
### Fase de desarrollo del SIAgroBD  
#### Num TDC. D.1.1.1.2.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google5 <- read_csv2("database/google_drive/tabla_google5.csv", 
                          col_names = TRUE) 

```


**Fuente de Información:**  
- SIAGRO_Registro  

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- fase de desarrollo del SIAgroBD  

El SIAgroBD se puede encontrar en alguna de las siguientes fases:  
0 - SIAgroBD no existe  
1 - SIAgroBD en diseño  
2 - SIAgroBD diseñado  
3 - SIAgroBD aprobado  
4 - SIAgroBD adoptado  

Al día de hoy **(`r hoy1` )**, los avances se pueden ver en la siguiente tabla:  

```{r, echo=FALSE}
knitr::kable(tabla_google5, format = "markdown", booktabs = TRUE) 

```

Por lo que de acuerdo con los indicadores se esta en 
```{r, echo=FALSE}
valor <- c("Línea base", "Meta intermedia", "Meta final")
fase <- c("Sistema no existe", "Sistema diseño/diseñado", "Sistema implementado/adoptado")
avance <- c("-", "-", "X")
tablaH <- data.frame(valor, fase, avance) %>% 
    column_to_rownames(., var = "valor")
tablaH <- as.data.frame(t(tablaH))

knitr::kable(tablaH, format = "markdown", booktabs = TRUE) 

```

_______  

## Dentro del PIR responde al **OUTPUT 1.1.2**  
### Número de actores institucionales clave que han adoptado y están usando el SIAgroBD  
#### Num TDC. D.1.1.0.0.0.1  


```{r, echo=FALSE,  message=FALSE}

tabla_google6 <- read_csv2("database/google_drive/tabla_google6.csv", 
                          col_names = TRUE) %>% 
    mutate(val = 1)

```

**Fuente de Información:**  
- SIAGRO_Registro  

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- Porcentaje de involucrados institucionales claves que adopten y utilizan el SiAgroBD.  

La lista de involucrados institucionales se muestra a continuación:  

```{r, echo=FALSE}
knitr::kable(tabla_google6, format = "markdown", booktabs = TRUE) 

```

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
tabla_google6.1 <- tabla_google6 %>% 
    filter(ACRINST != "CONABIO")
SUMA <- sum(tabla_google6.1$USUARIOS)
knitr::kable(funcion1(0,3,75, SUMA), format = "markdown", booktabs = TRUE)  

```


_______  

## Dentro del PIR responde al **OUTPUT 1.1.3**  
### Protocolo para la valoración rural participativa (incluidas las áreas suburbanas) de os servicios de la agroBD para la seguridad alimentaria de los pequeños productores y sus familias  
#### Num TDC. E.0.1.1.3.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google7 <- read_csv2("database/google_drive/tabla_google7.csv", 
                          col_names = TRUE) %>% 
    mutate(val = 1)

```


**Fuente de Información:**  
- C1_Protocolo_Valoración_Participativa  

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- Número de protocolos para la valoración participativa de la agrobiodiversidad  

```{r, echo=FALSE}
knitr::kable(tabla_google7 %>% 
                 select(NOM_PROTOCOLO, FECHA_VER_FIN), format = "markdown", booktabs = TRUE) 

```


Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla_google7$val)
knitr::kable(funcion1(0,1,1, SUMA), format = "markdown", booktabs = TRUE)  

```

_______  

## Dentro del PIR responde al **OUTPUT 1.1.3**  
### Protocolo para la valoración económica de los valores nutricionales, de salud y otros valores funcionales de los productos de la agrobiodiversidad  
#### Num TDC. E.0.1.1.5.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google8 <- read_csv2("database/google_drive/tabla_google8.csv", 
                          col_names = TRUE) %>% 
    mutate(val = 1)

```

**Fuente de Información:**  
- C1_Protocolo_Valoración_económica  

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- Número de protocolos para la valoración económica  

```{r, echo=FALSE}
knitr::kable(tabla_google8 %>% 
                 select(NOM_PROTOCOLO, FECHA_VER_FIN), format = "markdown", booktabs = TRUE) 

```


Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla_google8$val)
knitr::kable(funcion1(0,1,1, SUMA), format = "markdown", booktabs = TRUE)  

```

_______  

## Dentro del PIR responde al **OUTPUT 1.1.3**  
### Número de materiales para la comunicación y difusión  del valor de la agrobiodiversidad  
#### Num TDC. E.0.1.1.1.0.2  

```{r, echo=FALSE,  message=FALSE}

Mat_Comun1 <- Mat_Comun %>%
    select("materiales/nom_ent","materiales/nom_matcom") %>% 
    mutate(val = 1) %>% 
    rename(nom_ent = "materiales/nom_ent") %>% 
    rename(mat_comun = "materiales/nom_matcom")

# Con el tipo de proyecto 1
tablaMC <- tablaLL %>% 
    ungroup() %>% 
    #filter(`proyectos/tip_proy` == "01") %>% 
    #left_join(INEGI1, by = "region") %>% 
    #replace_na(., list(nom_loc = "Guachochi")) %>% 
    replace_na(., list(`proyectos/num_matcom` = 0)) %>%  
    group_by(nombre_subproy) %>% 
    summarise(res1 = sum(`proyectos/num_matcom`))


```


**Fuente de Información:**  
- Dos fuentes de Kobo: Materiales de comunicacón y Registro de Registro de proyectos. Componentes 2 y 4  

**Medio:**  
- Kobo Materiales de comunicacion  

**Descripción TDC:**  
- Número de materiales de comunicación y diseminación de los valores de la agrobiodiversidad  

La información del kobo de "Materiales de Comunicación":

```{r, echo=FALSE}
knitr::kable(Mat_Comun1 %>% 
                 select(nom_ent, mat_comun), format = "markdown", booktabs = TRUE) 

```

La información del kobo de "Registro de Registro de proyectos. Componentes 2 y 4":

```{r, echo=FALSE}
knitr::kable(tablaMC %>% 
                 select(nombre_subproy), format = "markdown", booktabs = TRUE) 

```

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
QQ <- sum(Mat_Comun1$val)
QQ1 <- sum(tablaMC$res1)

SUMA <- QQ + QQ1
knitr::kable(funcion1(0,12,30, SUMA), format = "markdown", booktabs = TRUE)  

```

_______  

## Dentro del PIR responde al **OUTPUT 1.1.3**  
### Estrategia de comunicación para construir conciencia de los valores de la agrobiodiversidad entre productores, políticos tomadores de decisiones, y consumidores (diseñada y puesta a disposición para su uso bajo los componentes del pryecto 2, 3 y 4)  
#### Num TDC. E.0.1.1.1.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google9 <- read_csv2("database/google_drive/tabla_google9.csv", 
                          col_names = TRUE) 

```


¿Cuál es el avance en la implementación de la estrategia de comunicación de los productores, consumidores y tomadores de decisiones?  

**Fuente de Información:**  
- C1_Estrategia_Comunicación

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- Fases de la Estrategia  

El SIAgroBD se puede encontrar en alguna de las siguientes fases:  
0 - Estrategia no  existe  
1 - Estrategia en diseño  
2 - Estrategia diseñada  
3 - Estretegia en implementación

Al día de hoy **(`r hoy1` )**, los avances se pueden ver en la siguiente tabla:  

```{r, echo=FALSE}

knitr::kable(tabla_google9, format = "markdown", booktabs = TRUE) 

```


Con respecto a el avance se encuentar en la siguiente etapa:  

```{r, echo=FALSE}
valor <- c("Línea base", "Meta intermedia", "Meta final")
fase <- c(NA, "Estrategia diseñada", "Estrategia implementada")
avance <- c("-", "-", "-")
tablaH <- data.frame(valor, fase, avance) %>% 
    column_to_rownames(., var = "valor")
tablaH <- as.data.frame(t(tablaH))

knitr::kable(tablaH, format = "markdown", booktabs = TRUE) 

```

_______  

## Dentro del PIR responde al **OUTCOME 2.1**  
### Área en hectáreas donde el conocimiento, las prácticas y/o la gestión derivados de los proyectos de fortalecimiento de capacidades para la conservación de la agrobiodiversidad es aplicado.  
#### Num TDC. A.1.0.1.0.0.1  


**Fuente de Información:**  
- Componentes 2 y 4

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Áreas (ha) en donde el conocimiento, las prácticas o la gestión es aplicada  

Al día de hoy **(`r hoy1` )** el número de especies globalmentes significativas que se mantienen en las localidades de intervención directa del proyecto son: **`r sum(tabla1a$area1, na.rm = T)` hecáreas**


Los avances se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla1a$area1, na.rm = T)
knitr::kable(funcion1(604,1090,2180, SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTCOME 2.1**  
### Número de productores que han recibido diferentes beneficios por conservar y usar de manera sostnible agroBD (incentivos de mercado, subsidios para conservar y prácticas tradicionales relacionadas)  
#### Num TDC. A.1.0.0.3.0.1  

```{r, echo=FALSE}

tabla2a <- tabla2 %>% 
    select(`proyectos/cofinan/org`:`proyectos/cofinan/tipo_org`, `_parent_index`) %>% 
    rename("parent_index" = "_parent_index") %>% 
    filter(`proyectos/cofinan/tipo_org` %in% c("01", "02", "03"))

tabla1c <- tabla1 %>%  
    rename("parent_index" = "_index") %>% 
    right_join(tabla2a, by = "parent_index") 
   
tabla3a <- tabla3 %>% 
    rename("parent_index" = "_parent_index") %>% 
    right_join(tabla1c, by = "parent_index") %>% 
    mutate(value1 = 1) %>% 
    unique()
```

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de productores que recibieron apoyos gubernamentales para la conservación y y uso sustentable de la agrobiodiversidad  

El total de productores que recibieron apoyos gubernamentales para la conservación y y uso sustentable de la agrobiodiversidad fue de: **`r sum(tabla3a$value1)`**  

Los avances se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla3a$value1)
knitr::kable(funcion1(2268,2900,4100, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTCOME 2.1**  
### Numero de especies significativas a nivel mundial (cultivadas y silvestres) que se mantienen en los agroecosistemas descritos en la sáreas de implementación específicas  
#### Num TDC. A.1.0.0.0.0.1  

**Fuente de Información:**  
- Encuestas (*nota: el dato viene de grupos de enfoque*)

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Especies globalmente significativas  


Al día de hoy **(`r hoy1` )** el número de especies globalmentes significativas que se mantienen en las localidades de intervención directa del proyecto son: **`257 `**

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
#print(head(tabla1a) )
SUMA <- 257
knitr::kable(funcion1(168,168,168, SUMA), format = "markdown", booktabs = TRUE) 
```
**NOTA:** Este indicador se recolectaría con las Encuestas a las Unidades de Producción Familar  

_______  

## Dentro del PIR responde al **OUTPUT 2.1.1**  
### Número de eventos anuales de **Intercambio de conocimientos** de la agrobiodiversidad  
#### Num TDC. A.1.0.0.1.0.1  

```{r, echo = FALSE}
# Con el tipo de proyecto 1
tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` == "01") %>% 
    left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 

#32 eventos 
#grupos de enfoque



#tablaCS1 <- tablaCS %>% 
#    group_by(nom_loc) %>% 
#    summarise(res1 = sum(value)) %>% 
#    replace_na(., list(nom_loc = "Guachochi"))

```

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número anual de eventos para el **`r tablaCS$nombre_tproy[1]`**   

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$valor)`** proyectos de **`r tablaCS$nombre_tproy[1]`**  


Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$valor)
knitr::kable(funcion1(25,50,75, SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 2.1.1**  
### Número de materiales anuales para la difusión del conocimieneto sobre agrobiodiversidad (catálogos, libros, posters, murales, programas de radio, etc.)  
#### Num TDC. A.1.0.0.1.0.2  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número anual de materiales para la diseminación del conocimiento   

```{r, echo = FALSE}
# Con el tipo de proyecto 1
tablaMC <- tablaLL %>% 
    ungroup() %>% 
    #filter(`proyectos/tip_proy` == "01") %>% 
    replace_na(., list(`proyectos/num_matcom` = 0)) %>% 
    group_by(nombre_subproy) %>% 
    summarise(res1 = sum(`proyectos/num_matcom`))

Mat_Comun1 <- Mat_Comun %>%
    select("materiales/nom_ent","materiales/nom_matcom") %>% 
    mutate(val = 1) %>% 
    rename(nom_ent = "materiales/nom_ent") %>% 
    rename(mat_comun = "materiales/nom_matcom")

ALPHA <- sum(tablaMC$res1) + sum(Mat_Comun1$val)
```

El total del material de comunicación es de: **`r ALPHA `**

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
#print(head(tabla1a) )
SUMA <- ALPHA
knitr::kable(funcion1(22,44,66,SUMA),
             format = "markdown", booktabs = TRUE) 
```
**NOTA: Falta el material de comunicación. Hasta el momento solo es material de lo que se subió en el kobo de las regionales**  

_______  

## Dentro del PIR responde al **OUTPUT 2.1.2**  
### Número total de proyectos para la conservación de semillas, desglozado en: Bancos de semillas, Red de Intercambio y Red de custodios  
#### Num TDC. A.1.0.0.2.0.1  

```{r, echo = FALSE}
# Con el tipo de proyecto 3
tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` == "03") %>% 
    group_by(nombre_subproy) %>% 
    summarise(valor = sum(valor))
    
```
**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número total de proyectos para la conservación de semillas   

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$valor)`** proyectos en la conservación de semillas. Estos proyectos están distribuidos en los siguientes subproyectos:

```{r , echo=FALSE}
knitr::kable(tablaCS, format = "markdown", booktabs = TRUE) 


```
Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
#print(head(tabla1a) )
SUMA <- sum(tablaCS$valor)
knitr::kable(funcion1(7,14,21, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 2.1.2**  
### Número total de localidades en donde se implementaron proyectos para la conservación de semillas  
#### Num TDC. A.1.0.0.2.0.2  

```{r, echo=FALSE}
tablaCS1 <- tablaLL %>%
    select(region,  `proyectos/tip_proy`) %>% 
    left_join(INEGI1, by = "region") %>% 
    na.omit() %>% 
    select(nom_loc, `proyectos/tip_proy`) %>% 
    filter(`proyectos/tip_proy` == "03") %>% 
    mutate(valor = 1) %>% 
    distinct()

```

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número total de localidades en donde se implementaron proyectos para la conservación de semillas es: **`r nrow(tablaCS1)`**  

Se implementaron en las siguientes localidades

```{r , echo=FALSE}
#print(head(tabla1a) )
knitr::kable(tablaCS1, format = "markdown", booktabs = TRUE) 

```
Los avances (%)  se pueden ver en la siguiente tabla:  
```{r , echo=FALSE}
SUMA <- sum(tablaCS1$valor)
knitr::kable(funcion1(31,43,54, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 2.1.2**  
### Número de agricultores participantes en los proyectos de conservación de semillas  
#### Num TDC. A.1.0.0.2.0.3  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número total de agricultores en los proyectos para la conservación de semillas  

```{r, echo=FALSE}

tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` == "03") %>% 
    select(nombre_subproy, parent_index) 

tabla3a <- tabla3 %>% 
    rename("parent_index" = "_parent_index") %>% 
    right_join(tablaCS, by = "parent_index") %>% 
    mutate(value1 = 1)
```

El total de agricultores que participaron es de: **`r sum(tabla3a$value1) `**

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla3a$value1)
knitr::kable(funcion1(133,266,400, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 2.1.2**  
### Porcentaje de mujeres participantes en los proyectos de conservación de semillas  
#### Num TDC. A.1.0.0.2.0.4  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Porcentaje de mujeres participando en los proyectos para la conservación de semillas  

```{r, echo=FALSE}
tabla3b <- tabla3a %>% 
    group_by(`participantes/persona/sexo`) %>% 
    summarise(val = sum(value1))

prop1 <- round(100 * (tabla3b$val[2]/sum(tabla3b$val)),1) %>% 
    replace_na(., 0)

```
La proporción de mujeres fue de: **`r prop1`** %  

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- prop1
knitr::kable(funcion1(43,50,50, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 2.1.2**  
### Porcentaje de jóvenes participando en los proyectos para la conservación de semillas  
#### Num TDC. A.1.0.0.2.0.5  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Porcentaje de jóvenes participando en los proyectos para la conservación de semillas  

```{r, echo=FALSE}
tabla3c <- tabla3a %>% 
    filter(`participantes/persona/edad` < 31)

prop2 <- round(100 * (nrow(tabla3c) / nrow(tabla3a)), 1) %>% 
    replace_na(., 0)

```
La proporción de jóvenes que partiparon en estos proyectos es de: **`r prop2`** %

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- prop2
knitr::kable(funcion1(14,30,30, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 2.1.3**  
### Número total de proyectos para el **Mejoramiento de semillas o mipas** que se implementaron en las localidades de intervención durante la vida del proyecto  
#### Num TDC. A.1.0.0.3.0.2  

```{r, echo = FALSE}
# Con el tipo de proyecto 3
tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` == "02") %>% 
    group_by(nombre_subproy) %>% 
    summarise(valor = sum(valor))

```

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número total de proyectos para el **Mejoramiento de semillas o milpas** que se implementaron en las localidades de intervención durante la vida del proyecto  

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$valor)`** proyectos en la conservación de semillas. Estos proyectos están distribuidos en los siguientes subproyectos:

```{r , echo=FALSE}
knitr::kable(tablaCS, format = "markdown", booktabs = TRUE) 


```

Los avances (%)  se pueden ver en la siguiente tabla:  
```{r , echo=FALSE}
SUMA <- sum(tablaCS$valor)
knitr::kable(funcion1(98,200,300, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 2.1.3**  
### Número total de localidades en donde se implementaron proyectos para el **Mejoramiento de semillas o mipas** 
#### Num TDC. A.1.0.0.3.0.3  

```{r, echo=FALSE}
tablaCS1 <- tablaLL %>%
    select(region,  `proyectos/tip_proy`) %>% 
    left_join(INEGI1, by = "region") %>% 
    na.omit() %>% 
    select(nom_loc, `proyectos/tip_proy`) %>% 
    filter(`proyectos/tip_proy` == "02") %>% 
    mutate(valor = 1) %>% 
    distinct()

```

Se implementaron en las siguientes localidades

```{r , echo=FALSE}
#print(head(tabla1a) )
knitr::kable(tablaCS1, format = "markdown", booktabs = TRUE) 

```
Los avances (%)  se pueden ver en la siguiente tabla:  
```{r , echo=FALSE}
SUMA <- nrow(tablaCS1) 
knitr::kable(funcion1(63,120,180, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 2.1.3**  
### Número total de agricultores en los proyectos para el **Mejoramiento de semillos o milpas**  
#### Num TDC. A.1.0.0.3.0.4  

```{r, echo=FALSE}

tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` == "02") %>% 
    select(nombre_subproy, parent_index) 

tabla3a <- tabla3 %>% 
    rename("parent_index" = "_parent_index") %>% 
    right_join(tablaCS, by = "parent_index") %>% 
    mutate(value1 = 1)
```

El total de agricultores que participaron es de: **`r sum(tabla3a$value1) `**

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tabla3a$value1) 
knitr::kable(funcion1(2260,4500,6750, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 2.1.3**  
### Porcentaje de mujeres participantes en los proyectos para el **Mejoramiento de semillas o milpas**  
#### Num TDC. A.1.0.0.3.0.5  

```{r, echo=FALSE}
tabla3b <- tabla3a %>% 
    group_by(`participantes/persona/sexo`) %>% 
    summarise(val = sum(value1))

prop1 <- round(100 * (tabla3b$val[2]/sum(tabla3b$val)),1) %>% 
    replace_na(., 0)

```

La proporción de mujeres fue de: **`r prop1`** %

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- prop1 
knitr::kable(funcion1(39,50,50, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 2.1.3**  
### Porcentaje de jóvenes participantes en los proyectos para el **Mejoramiento de semillas o milpas**  
#### Num TDC. A.1.0.0.3.0.6  

```{r, echo=FALSE}
tabla3c <- tabla3a %>% 
    filter(`participantes/persona/edad` < 31)

prop2 <- round(100 * (nrow(tabla3c) / nrow(tabla3a)), 1) %>% 
    replace_na(., 0)

```
Finalmente la proporción de jóvenes que partiparon es de: **`r prop2`** %

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- prop2 
knitr::kable(funcion1(22,30,30, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTCOME 3.1**  
### Plan Nacional de Desarrollo 2019-2024 incorpora la agrobiodiversidad en uno o más objetivos, estrategias o líneas de acción  
#### Num TDC. C.0.0.0.1.0.2  

**Fuente de Información:**  
- Instrumentos de políticas (Componente 3)  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Plan Nacional de Desarrollo 2019-2024 incorpora la agrobiodiversidad


El Plan Nacional de Desarrollo 2019-2024 (PND) se puede encontrar en alguna de las siguientes fases:  
0 - PND no incorpora a la agrbiodiversidad  
1 - PND incorpora la agrobiodiversidad  

Al día de hoy **(`r hoy1` )**, los avances se pueden ver en la siguiente tabla:  

```{r, echo=FALSE}
valor <- c("Línea base", "Meta intermedia", "Meta final")
fase <- c("0 PND", "1 PND", "1 PND")
avance <- c("-", "-", "-")
tablaD <- data.frame(valor, fase, avance) %>% 
    column_to_rownames(., var = "valor")
tablaD <- as.data.frame(t(tablaD))

knitr::kable(tablaD, format = "markdown", booktabs = TRUE) 

```

**PENDIENTE**  


_______  

## Dentro del PIR responde al **OUTCOME 3.1**  
### Número de programas sectoriales, que incorporen a la agrobiodiversidad en una o más objetivos, estrategias o línes de acción    
#### Num TDC. C.0.0.0.1.0.3  

**Fuente de Información:**  
- Instrumentos de políticas (Componente 3)  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de programas sectoriales, especiales y regionales que incorporan la agrobiodiversidad  

Los avances (%) de los programas sectoriales se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- 0 
knitr::kable(funcion1(0,4,4, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```


**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTCOME 3.1**  
### Número de programas presupuestarios cuyas reglas de operación incorporan normas, reglas y criterios o incentivos dirigidos hacia la conservación y uso sustentable de la agrobiodiversidad  
#### Num TDC. C.0.0.0.1.0.4  

**Fuente de Información:**  
- Instrumentos de políticas (Componente 3)  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de programas presupuestarios que incorporan normas o criterios para la conservación y el uso sustentable de la agrobiodiversidad  

Los avances (%) de los programas presupuestarios se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- 0 
knitr::kable(funcion1(2, 6, 9, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```


**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 3.1.1**  
### Estrategia de comunicación para construir conciencia de los valores de la agrobiodiversidad entre productores, políticos tomadores de decisiones, y consumidores (diseñada y puesta a disposición para su uso bajo los componentes del pryecto 2, 3 y 4)  
#### Num TDC. E.0.1.1.1.0.1  

```{r, echo=FALSE,  message=FALSE}

tabla_google9 <- read_csv2("database/google_drive/tabla_google9.csv", 
                          col_names = TRUE) 

```

¿Cuál es el avance en la implementación de la estrategia de comunicación de los productores, consumidores y tomadores de decisiones?


**Fuente de Información:**  
- C1_Estrategia_Comunicación

**Medio:**  
- Hoja de cálculo  

**Descripción TDC:**  
- Fases de la Estrategia  

El SIAgroBD se puede encontrar en alguna de las siguientes fases:  
0 - Estrategia no  existe  
1 - Estrategia en diseño  
2 - Estrategia diseñada  
3 - Estretegia en implementación

Al día de hoy **(`r hoy1` )**, los avances se pueden ver en la siguiente tabla:  

```{r, echo=FALSE}

knitr::kable(tabla_google9, format = "markdown", booktabs = TRUE) 

```


Con respecto a el avance se encuentar en la siguiente etapa:  

```{r, echo=FALSE}
valor <- c("Línea base", "Meta intermedia", "Meta final")
fase <- c(NA, "Estrategia diseñada", "Estrategia implementada")
avance <- c("-", "-", "-")
tablaH <- data.frame(valor, fase, avance) %>% 
    column_to_rownames(., var = "valor")
tablaH <- as.data.frame(t(tablaH))

knitr::kable(tablaH, format = "markdown", booktabs = TRUE) 

```

_______  

## Dentro del PIR responde al **OUTPUT 3.1.1**  
### Índice de concientización de los funcionarios públicos medido por el índice de conciencizción de la AgroBD desarrollado en el producto 1.1.3  
#### Num TDC. C.0.1.1.0.0.1  

**Fuente de Información:**  
- FALTA  

**Medio:**  
- Kobo para funcionarios públicos. (Nota:En diseño el kobo) 

**Descripción TDC:**  
- Índice de conciencia del valor de la agrobiodiversidad de los tomadores de decisiones  

Los avances en el índice (puntos) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- NA 
knitr::kable(funcion1(NA, 50, 85, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 3.1.2**  
### Número de políticas priorizadas (considerando el PND, los programas sectoriales y los programas presupuestales)  
#### Num TDC. C.0.0.0.1.2.1  

**Fuente de Información:**  
- Instrumento de políticas públicas (Componente 3)  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de políticas priorizadas  

Los avances en el número de políticas públicas priorizadas se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- NA 
knitr::kable(funcion1(0, 15, 15, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 3.1.2**  
### Número de políticas negociadas  
#### Num TDC. C.0.0.0.1.1.1  

**Fuente de Información:**  
- Intrumentos de políticas  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de políticas priorizadas  

Los avances en el número de políticas públicas negociadas se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- NA 
knitr::kable(funcion1(0, 6, 12, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 3.1.2**  
### Número de políticas modificadas  
#### Num TDC. C.0.0.0.1.0.1  

**Fuente de Información:**  
- Intrumentos de políticas  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de políticas modificadas  

Los avances en el número de políticas públicas modificadas se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- NA 
knitr::kable(funcion1(0, 6, 12, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTCOME 4.1**  
### Estrategias para la promoción de los productos de la agrobiodiversidad y campañas de marketing diseñadas e implementadas  
#### Num TDC. ___   

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  


**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTCOME 4.1**  
### Índice de accesibilidad de los productos de la agrobiodiversidad a los mercados locales y regionales (medido a través de los cuatro indicadores del producto 4.1.2)
#### Num TDC. B.0.1.1.0.0.2  

**Fuente de Información:**  
- - Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Índice de accesibilidad de los productos de la agrobiodiversidad a los mercados locales y regionales  

```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("0102","0101","0902")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```

Estos son los lugares donde se comercializan:
```{r , echo=FALSE}
knitr::kable(tablaCS %>% 
                 select(`ubicacion/nom_ent`, `proyectos/nom_proy`), format = "markdown", booktabs = TRUE) 
```

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** lugares en donde se comercializan los productos derivados de la agrobiodiversidad generados por las UPF ubicadas en las localidades de intervención del proyecto.  

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(2,19,52, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**NOTA: No se incluyo los negocios pivote porqué no hay hasta ahora en la encuesta **
_______  

## Dentro del PIR responde al **OUTPUT 4.1.1**  
### Número de estudios de mercado  
#### Num TDC. B.0.1.2.6.0.1  

**Fuente de Información:**  
- - Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de estudios de mercado  

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 4.1.1**  
### Número de campañas de campañas de valoración y mercadeo dela agrobiodiversidad  
#### Num TDC. B.0.1.2.5.0.1


```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` %in% c("08")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```

Estas son las campañas:
```{r , echo=FALSE}
knitr::kable(tablaCS %>% 
                 select(`ubicacion/nom_ent`, `proyectos/nom_proy`), format = "markdown", booktabs = TRUE) 
```


Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** campañas de marketing y de valoración de la agrobiodiversidad    

Los avances (%) se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(0,3,6, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 4.1.1**  
### Número de materiales de comunicación social y promoción sobre los valores de la agrobiodiversidad dirigidos a consumidores para posicionaramarcas, indicaciones geográficas u otros sellos de identidad territorial  
#### Num TDC. B.0.1.2.5.0.2  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Materiales de comunicación social y promoción sobre los valores de la agrobiodiversidado  

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 4.1.1**  
### Número de evaluaciones de campañas y materiales e la etapa intermedia y final del proyecto  
#### Num TDC. B.0.1.2.5.0.3  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número de evaluaciones de las campañas y de los materiales  

```{r , echo=FALSE}
SUMA <- NA 
knitr::kable(funcion1(0,1,2, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 4.1.2**  
### Número de locales y puestos de comercialización en cadenas o circuitos cortos de comercialización  
#### Num TDC. B.0.1.1.2.0.1  


```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("0902")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```
Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** sistemas de acopio, transporte y distribución de semillas o productos derivados de la agrobiodiversidad que se establecieron para vincular a las UPF con los mercados locales durante la implementación del proyecto.  


Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(0,6,12, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 4.1.2**  
### Número de ferias de la agrobiodiversidad  
#### Num TDC. B.0.1.2.2.0.1  

```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("0101")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```

Las ferias son las siguientes:  

```{r , echo=FALSE}
knitr::kable(tablaCS %>% 
                 select(`ubicacion/nom_ent`, `proyectos/nom_proy`), format = "markdown", booktabs = TRUE) 
```

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** eventos catalogados como ferias de agrobiodiversidad    

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(1,3,20, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 4.1.2**  
### Número de ferias gastronómicas específicas o encuentros entre cocineras tradicinales  
#### Num TDC. B.0.1.2.1.0.1  

```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("0102", "0103")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```
Las ferias son las siguientes:
```{r , echo=FALSE}
knitr::kable(tablaCS %>% 
                 select(`ubicacion/nom_ent`, `proyectos/nom_proy`), format = "markdown", booktabs = TRUE) 
```

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** eventos catalogados como ferias o reuniones gastronómicas  

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(0,3,6, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 4.1.2**  
### Número de contratos en supermercados locales  
#### Num TDC. B.0.1.1.3.0.1  

```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("1001", "1002")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```
Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** contratos con supermercados locales, ya sean tiendas de autoservicio privadas o públicas  

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(1,3,6, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  

## Dentro del PIR responde al **OUTPUT 4.1.2**  
### Número de empresas formadas (inglés: negocios pivote)  
#### Num TDC. B.0.1.1.4.0.1  

```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("0901", "0902")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```
Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** negocios pivote

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(0,4,8, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 4.1.3**  
### Marca colectiva  
#### Num TDC. B.0.1.1.6.0.1  

**Fuente de Información:**  
- Registros de proyectos Componentes 2 y 4  

**Medio:**  
- Kobo  

**Descripción TDC:**  
- Número marcas colectivas  

```{r , echo=FALSE}
SUMA <- NA 
knitr::kable(funcion1(0,1,1, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

**PENDIENTE**  

_______  

## Dentro del PIR responde al **OUTPUT 4.1.3**  
### Número de sistemas participativos de garantía  
#### Num TDC. B.0.1.2.4.0.1  


```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/tip_proy` %in% c("04")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```

Se tienen los siguientes proyectos:  
```{r , echo=FALSE}
knitr::kable(tablaCS %>% 
                 select(`ubicacion/nom_ent`, `proyectos/nom_proy`), format = "markdown", booktabs = TRUE) 
```

Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** sistemas participativos de garantía    

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(1,30,60, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```

_______  

## Dentro del PIR responde al **OUTPUT 4.1.3**  
### Número de sitios web para impulsar la promoción y comercialización de productos  
#### Num TDC. B.0.1.1.5.0.1  

```{r, echo=FALSE}
tablaCS <- tablaLL %>% 
    filter(`proyectos/st_proy` %in% c("1101")) %>% 
    #left_join(INEGI1, by = "region") %>% 
    mutate(value = 1) 
```
Hasta la fecha **(`r hoy1` )** se tienen **`r sum(tablaCS$value)`** sitios web establecidos o en desarrollo  

Los avances (%)  se pueden ver en la siguiente tabla:  

```{r , echo=FALSE}
SUMA <- sum(tablaCS$value) 
knitr::kable(funcion1(0,3,6, sumaValor = SUMA), format = "markdown", booktabs = TRUE) 
```
_______  
## Dentro del PIR responde al **OUTPUT 4.1.3**  
### App de gastronomía de la AgroBD  
## Num TDC. B.0.1.2.3.0.1  

Este indicador es del tipo cualitativo y describe el avance que guarda el desarrollo de la aplicación, conforme ete avance la descripción sera actualizada.  

Los niveles para la evaluación del estado de la aplicación son:
- Sin avance: 0  
- En diseño: 1  
- En fase de prueba: 2  
- Disponible para descarga: 3  
- Disponible para descarga (versión mejorada): 4  

Los avances (marcado con una "X") se pueden ver en la siguiente tabla:  

```{r, echo=FALSE}
valor <- c("Ninguna", "Disponible para descarga", "Mejorada")
avance <- c("X", "-", "-")
tablaH <- data.frame(valor, avance) %>% 
    column_to_rownames(., var = "valor")
tablaH <- as.data.frame(t(tablaH))

knitr::kable(tablaH, format = "markdown", booktabs = TRUE) 

```

**PENDIENTE**  
_______  


# PR1  
_______  

# PR2  
_______

# PR3  
_______  

# PR4  
_______  

# Global Environment Benefits (p. 60)  
_______  

# Tracking tools  
_______  

_______
_______
_______
# FIN

